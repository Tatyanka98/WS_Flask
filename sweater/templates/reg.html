<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">

    {% include "head.html" %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reg_style.css') }}"> <!-- Стили страницы -->

    <title>Регистрация</title>

    <style>
        .rightSide{
            width: calc(100% - 40rem); height: 100%;
            background: url('{{ url_for("static", filename="imgs/shield.png") }}');
            background-size: cover;
            background-position: center;
        }
    </style>
</head>

<body class="light__theme">

    <main>

        <div class="leftSide">

            <svg viewBox="0 0 2444 615" class="logo">
                <g transform="translate(-2146 2473)">
                    <g transform="translate(-416 -471)">
                    <path d="M0,0H256a0,0,0,0,1,0,0V96a32,32,0,0,1-32,32H32A32,32,0,0,1,0,96V0A0,0,0,0,1,0,0Z" transform="translate(2562 -1568)" fill="#397ef6"/>
                    <path d="M32,0H224a32,32,0,0,1,32,32V319L128.492,218.765,0,319V32A32,32,0,0,1,32,0Z" transform="translate(2562 -1937)" fill="#397ef688"/>
                    </g>
                    <text transform="translate(2594 -2473)" font-size="341" font-family="GoogleSans-Medium, Google Sans" font-weight="500"><tspan x="0" y="329">Кванториум</tspan></text>
                    <text transform="translate(2617 -2113)" font-size="204" font-family="GoogleSans-Medium, Google Sans" font-weight="500"><tspan x="0" y="197">WORKSPACE</tspan></text>
                </g>
            </svg>

            <div class="stepContainer column g16">

                <h1 class="title">Регистрация</h1>
                <h3>Уже зарегистрированы? <a href="{{ url_for('login_page') }}" style="color: #397ef6">Авторизоваться</a></h3>

                {% with messages = get_flashed_messages() %}
                    {% if messages %}
                            {% for message in messages %}
                                <div class='flashError'>
                                    <p>{{ message }}</p>
                                    <p>&#8416 </p>
                                </div>
                            {% endfor %}
                    {% endif %}
                {% endwith %}

                <form method="post">

                    <div class="inputs column g8 my16" id="form">

                        <h3 class="label">ФИО</h3>



                        <input class='input' name="surname" type="text" autocomplete="False" placeholder="Фамилия" id="surname">
                        <input class='input' name="name" type="text" autocomplete="False" placeholder="Имя" id="name">
                        <input class='input' name="patronymic" type="text" autocomplete="False" placeholder="Отчество" id="patronymic">

                        <h3 class="label">Доступ к аккаунту</h3>

                        <input class='input' name="login" type="text" autocomplete="False" placeholder="Логин" id="login">
                        <input class='input' name="password1" type="password" autocomplete="False" placeholder="Пароль" id="password1">
                        <input class='input' name="password2" type="password" autocomplete="False" placeholder="Подтверждение пароля" id="password2">
                    </div>

                    <button type="submit">Зарегистрироваться</button>
                </form>
            </div>
        </div>

        <div class="rightSide"></div>

    </main>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> <!-- JQuery -->
    <script src="{{ url_for('static', filename='scripts/core_scripts.js') }}"></script>


    <script>
        function errorAlert(errorsObj){

            function _errorAlert(message){
                $("#form").prepend(`
                    <div class='flashError'>
                        <p>${message}</p>
                        <p>&#8416 </p>
                    </div>
                `)
            }

            $(".flashError").remove();
            for(let error in errorsObj){
                errorsObj[error].forEach(element => _errorAlert(element))
            }
        }
    </script>
</body>

</html>